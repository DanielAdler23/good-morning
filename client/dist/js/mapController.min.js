function initMap(){get_all_tweets(),setTimeout(()=>{document.querySelector("div#loading").remove(),map=new google.maps.Map(document.getElementById("map"),{zoom:2,center:new google.maps.LatLng(0,0),minZoom:2,disableDefaultUI:!0,styles:[{elementType:"geometry",stylers:[{color:"#0ba9ff"}]},{elementType:"labels.text.stroke",stylers:[{color:"#42ace3"}]},{elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"administrative.country",elementType:"geometry",stylers:[{color:"#45d1f1"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#45d1f1"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#45d1f1"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#45d1f1"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#45d1f1"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#45d1f1"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#45d1f1"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}]}),set_markers(allMarkers)},8e3)}function attachSecretMessage(a,b){a.addListener("click",function(){console.log(a.id)}),a.addListener("mouseout",function(){})}function initialize(){get_all_tweets(),setTimeout(()=>{document.querySelector("div.amcharts-chart-div > a").style.display="none";var a=document.querySelectorAll("g[visibility=visible]");console.log(a.length);for(var b of a)b.addEventListener("click",function(){var a=this.getAttribute("aria-label");console.log(a.split(" ")[1]),get_tweets_by_country("Australia")},!1);console.log("READY")},7e3)}function set_markers(a){for(var b of a){var c=b.coordinates,d=new google.maps.LatLng(c.latitude,c.longitude),e=new google.maps.Marker({position:d,icon:greenDot,map:map,id:b._id});attachSecretMessage(e,b),arrMarkers.push(e)}}function removeMarkers(){for(var a of arrMarkers)a.setMap(null);arrMarkers=[]}function cleanTime(a){if(a.includes("PM")){var b=parseInt(a.replace(/\D/g,""));return b+12}return a.replace(/\D/g,"").trim()}function get_all_tweets(){$.ajax({type:"GET",async:!1,dataType:"json",url:"https://gutenmorgen.herokuapp.com/tweets",success:function(a){removeMarkers(),allMarkers=a}})}function get_tweets_by_country(a){$.ajax({type:"GET",async:!1,dataType:"json",url:`https://gutenmorgen.herokuapp.com/tweets/country/${a}`,success:function(a){removeMarkers(),set_markers(a)}})}function get_tweets_by_time(a,b){var c=allMarkers.filter(c=>{if(c.time<b&&c.time>a-1)return c});return c}var map,allMarkers,arrMarkers=[],iconBase="https://maps.google.com/mapfiles/kml/shapes/",blueDot="./img/blueDot.png",greenDot="./img/greenDot.png",firstTime=!1,hours=["01 AM","02 AM","03 AM","04 AM","05 AM","06 AM","07 AM","08 AM","09 AM","10 AM","11 AM","12 AM","01 PM","02 PM","03 PM","04 PM","05 PM","06 PM","07 PM","08 PM","09 PM","10 PM","11 PM","12 PM"];$(function(){$("#range").ionRangeSlider({type:"double",grid:!0,values:hours,prettify:function(a){return moment(a,"X").format("hh A")},onStart:function(a){},onChange:function(a){},onFinish:function(a){if(firstTime){var b=cleanTime(a.from_value),c=cleanTime(a.to_value);removeMarkers(),set_markers(get_tweets_by_time(b,c))}else firstTime=!0},onUpdate:function(a){}})});